(()=>{"use strict";var t={d:(e,l)=>{for(var s in l)t.o(l,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:l[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{a:()=>p});let e=[],l=[];const s=()=>{localStorage.setItem("taskArray",JSON.stringify(e)),localStorage.setItem("projectArray",JSON.stringify(l))},d=function(){let t=JSON.parse(localStorage.getItem("taskArray")),s=JSON.parse(localStorage.getItem("projectArray"));t!=e&&(e=[],e.push(...t)),s&&(l=[],l.push(...s))},a=document.getElementById("list-list"),i=document.getElementById("list-title"),o=(()=>{const t=document.getElementById("list-add"),s=document.getElementById("list-add-task"),d=(t,e,s,d,o)=>{let n=document.createElement("div");n.classList.add("list-list-task"),n.dataset.number=o,a.appendChild(n);let r=document.createElement("div");r.classList.add("list-list-task-text"),r.dataset.number=o,n.appendChild(r);let c=document.createElement("div");c.textContent=s,c.dataset.number=o,c.classList.add("list-list-date"),n.appendChild(c);let u=document.createElement("div");u.dataset.number=o,u.classList.add("main-dot"),u.classList.add("done-dot"),r.appendChild(u);let p=document.createElement("li");p.dataset.number=o,p.classList.add("list-list-task-text-title"),null!==e&&"Today"==i.textContent||null!==e&&"Overdue"==i.textContent?p.textContent=t+" ("+e+")":p.textContent=t,r.appendChild(p);let m=document.createElement("div");m.dataset.number=o,m.classList.add("list-list-task-dots"),n.appendChild(m);let y=document.createElement("ul");y.dataset.number=o,y.classList.add("list-list-task-dropdown"),n.appendChild(y);let v=document.createElement("li");v.dataset.number=o,v.classList.add("list-list-task-dropdown-project"),v.classList.add("list-list-task-dropdown-bar"),v.textContent="Project",y.appendChild(v);let k=document.createElement("li");k.dataset.number=o,k.classList.add("list-list-task-dropdown-project-input"),y.appendChild(k);let j=document.createElement("select");j.dataset.number=o,j.classList.add("list-list-task-dropdown-project-input-input"),k.appendChild(j);let b=document.createElement("option");j.dataset.number=o,b.textContent="No Project",b.value="No Project",j.appendChild(b);for(let t=0;t<l.length;t++){let e=document.createElement("option");e.dataset.number=o,e.textContent=l[t],e.value=l[t],j.appendChild(e)}let g=document.createElement("button");g.dataset.number=o,g.classList.add("list-list-task-dropdown-project-input-button"),g.classList.add("list-list-task-dropdown-bar-button"),g.textContent="OK",k.appendChild(g);let L=document.createElement("li");L.dataset.number=o,L.classList.add("list-list-task-dropdown-date"),L.classList.add("list-list-task-dropdown-bar"),L.textContent="Date",y.appendChild(L);let x=document.createElement("li");x.dataset.number=o,x.classList.add("list-list-task-dropdown-date-input");let E=document.createElement("input");E.dataset.number=o,E.type="date",E.value=s,E.classList.add("list-list-task-dropdown-date-input-date"),x.appendChild(E);let C=document.createElement("button");C.dataset.number=o,C.classList.add("list-list-task-dropdown-date-input-button"),C.classList.add("list-list-task-dropdown-bar-button"),C.textContent="OK",x.appendChild(C),y.appendChild(x);let S=document.createElement("li");S.dataset.number=o,S.classList.add("list-list-task-dropdown-delete"),S.classList.add("list-list-task-dropdown-bar"),S.textContent="Delete",y.appendChild(S);let h=document.createElement("span");h.dataset.number=o,h.classList.add("list-list-lign"),a.appendChild(h)},o=()=>{for(;a.firstChild;)a.removeChild(a.firstChild)};return{addTask:(t,e,l,s,d)=>({title:t,project:e,date:l,done:s,index:d}),displayTasks:()=>{if(o(),"Inbox"===i.textContent)for(let t=0;t<e.length;t++)null===e[t].project&&d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t);else if("Overdue"===i.textContent)for(let t=0;t<e.length;t++)null!==e[t].date&&e[t].date.valueOf()<(new Date).toISOString().slice(0,10)&&d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t);else if("Today"===i.textContent)for(let t=0;t<e.length;t++)e[t].date==(new Date).toISOString().slice(0,10)&&d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t);else for(let t=0;t<e.length;t++)e[t].project==i.textContent&&d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t);for(let t=0;t<e.length;t++)for(let l=0;l<document.querySelectorAll(".list-list-task-text-title").length;l++)e[t].title==document.querySelectorAll(".list-list-task-text-title")[l].textContent&&document.querySelectorAll(".list-list-task-text-title")[l].dataset.number==e[t].index&&1==e[t].done&&document.querySelectorAll(".list-list-task-text-title")[l].classList.add("list-list-task-text-title-done"),e[t].title==document.querySelectorAll(".list-list-task-text-title")[l].textContent&&document.querySelectorAll(".list-list-task-text-title")[l].dataset.number==e[t].index&&null!==e[t].date&&(new Date).toISOString().slice(0,10)>e[t].date.valueOf()&&(document.querySelectorAll(".list-list-task-text-title")[l].classList.add("list-list-task-text-title-overdue"),document.querySelectorAll(".list-list-date")[l].classList.add("list-list-date-overdue")),e[t].title==document.querySelectorAll(".list-list-task-text-title")[l].textContent&&document.querySelectorAll(".list-list-task-text-title")[l].dataset.number==e[t].index&&1==e[t].done&&null!==e[t].date&&(new Date).toISOString().slice(0,10)>e[t].date.valueOf()&&(document.querySelectorAll(".list-list-task-text-title")[l].classList.add("list-list-task-text-title-done-overdue"),document.querySelectorAll(".list-list-date")[l].classList.add("list-list-date-done-overdue"))},clearTasks:o,resetTask:()=>{let e=document.querySelectorAll(".list-list-task-dropdown"),l=document.querySelectorAll(".list-list-task-dropdown-date"),d=document.querySelectorAll(".list-list-task-dropdown-date-input"),a=document.querySelectorAll(".list-list-task-dropdown-project"),i=document.querySelectorAll(".list-list-task-dropdown-project-input");overlay.classList.remove("overlay-active"),t.classList.remove("list-add-inactive"),s.classList.remove("list-add-task-active");for(let t=0;t<e.length;t++)l[t].classList.remove("list-list-task-dropdown-date-inactive"),d[t].classList.remove("list-list-task-dropdown-date-input-active"),e[t].classList.remove("list-list-task-dropdown-active"),a[t].classList.remove("list-list-task-dropdown-project-inactive"),i[t].classList.remove("list-list-task-dropdown-project-input-active")}}})(),n=document.getElementById("list-title"),r=()=>{n.textContent="Inbox",d(),o.displayTasks()},c=document.getElementById("list-title"),u=(()=>{const t=document.getElementById("navbar-hamburger"),e=document.getElementById("sidebar"),a=document.getElementById("sidebar-projects-add"),i=document.getElementById("list-projects-add-project-add"),u=document.getElementById("list-projects-add-project-cancel"),m=document.getElementById("sidebar-projects-add-project"),y=document.getElementById("sidebar-projects-add-project-input"),v=document.getElementById("sidebar-projects-list"),k=document.getElementById("sidebar-projects-title"),j=document.getElementById("inbox"),b=document.getElementById("today"),g=document.getElementById("overdue");t.addEventListener("click",(()=>{e.classList.toggle("sidebar-closed")})),j.addEventListener("click",(()=>{"Inbox"!==c.textContent&&r()})),b.addEventListener("click",(()=>{"Today"!==c.textContent&&(n.textContent="Today",d(),o.displayTasks())})),g.addEventListener("click",(()=>{"Overdue"!==c.textContent&&(n.textContent="Overdue",d(),o.displayTasks())})),a.addEventListener("click",(()=>{overlay.classList.add("overlay-active"),a.classList.add("sidebar-projects-add-inactive"),m.classList.add("sidebar-projects-add-project-active"),y.focus()})),u.addEventListener("click",(()=>{a.classList.remove("sidebar-projects-add-inactive"),m.classList.remove("sidebar-projects-add-project-active")})),i.addEventListener("click",(()=>{""!==y.value?(l.push(y.value),E(),p(),s(),d(),L(),o.displayTasks()):y.placeholder="Please enter something"}));const L=()=>{E();for(let t=0;t<l.length;t++){let e=document.createElement("div");e.classList.add("sidebar-projects-list-project"),v.appendChild(e);let s=document.createElement("div");s.classList.add("main-dot"),s.classList.add("sidebar-projects-dot"),e.appendChild(s);let d=document.createElement("div");d.classList.add("sidebar-projects-list-project-title"),d.textContent=l[t],e.appendChild(d);let i=document.createElement("div");i.classList.add("sidebar-projects-list-project-delete"),e.appendChild(i),a.classList.remove("sidebar-projects-add-inactive"),m.classList.remove("sidebar-projects-add-project-active")}x(),C()},x=()=>{k.textContent=`Projects: ${l.length}`},E=()=>{for(;v.firstChild;)v.removeChild(v.firstChild)},C=()=>{let t=document.querySelectorAll(".sidebar-projects-list-project"),e=document.querySelectorAll(".sidebar-projects-dot"),l=document.querySelectorAll(".sidebar-projects-list-project-title"),s=document.querySelectorAll(".sidebar-projects-list-project-delete");for(let d=0;d<t.length;d++)t[d].dataset.number=d,e[d].dataset.number=d,l[d].dataset.number=d,s[d].dataset.number=d};return{displayProjects:L,clearProjects:E,resetProject:()=>{const t=document.querySelectorAll(".sidebar-projects-list-project-dropdown");a.classList.remove("sidebar-projects-add-inactive"),m.classList.remove("sidebar-projects-add-project-active");for(let e=0;e<t.length;e++)t[e].classList.remove("sidebar-projects-list-project-dropdown-active"),overlay.classList.remove("overlay-active")},setAttributeProjects:C,updateProjectNumber:x}})(),p=((()=>{const t=document.getElementById("overlay"),a=document.getElementById("sidebar-projects-list"),i=(document.getElementById("sidebar-projects-title"),document.getElementById("list-list")),c=document.getElementById("list-title"),m=document.getElementById("list-add"),y=document.getElementById("list-add-task"),v=document.getElementById("list-add-task-input"),k=document.getElementById("list-add-task-input-add"),j=document.getElementById("list-add-task-input-cancel");t.addEventListener("click",(()=>{u.resetProject(),o.resetTask(),p()})),m.addEventListener("click",(()=>{m.classList.toggle("list-add-inactive"),y.classList.toggle("list-add-task-active"),t.classList.add("overlay-active"),v.focus()})),j.addEventListener("click",(()=>{m.classList.toggle("list-add-inactive"),y.classList.toggle("list-add-task-active"),t.classList.remove("overlay-active")})),k.addEventListener("click",(()=>{if(""!==v.value){let t,l=v.value,d=0;if("Today"==c.textContent){let e=(new Date).toISOString().slice(0,10);t=o.addTask(l,null,e,!1,d++)}else t="Today"!==c.textContent&&"Inbox"!==c.textContent?o.addTask(l,c.textContent,null,!1,d++):o.addTask(l,null,null,!1,d++);e.push(t),s(),o.clearTasks(),p(),o.displayTasks()}else v.placeholder="Please enter something"})),document.addEventListener("keydown",(e=>{"Enter"===e.key&&document.getElementById("list-add-task").classList.contains("list-add-task-active")?(document.getElementById("list-add-task-input-add").click(),t.classList.remove("overlay-active"),o.resetTask()):"Enter"===e.key&&document.getElementById("sidebar-projects-add-project").classList.contains("sidebar-projects-add-project-active")&&(document.getElementById("list-projects-add-project-add").click(),t.classList.remove("overlay-active"),o.resetTask())})),a.addEventListener("click",(a=>{let i=a.target,p=a.target.dataset.number;if(i==document.querySelectorAll(".sidebar-projects-list-project-dots")[p])document.querySelectorAll(".sidebar-projects-list-project-dropdown")[p].classList.add("sidebar-projects-list-project-dropdown-active"),t.classList.add("overlay-active");else if(i==document.querySelectorAll(".sidebar-projects-list-project-delete")[p]){for(let t=0;t<e.length;t++)e[t].project==document.querySelectorAll(".sidebar-projects-list-project-title")[p].textContent&&e.splice(t,1);document.querySelectorAll(".sidebar-projects-list-project-title")[p].textContent==c.textContent&&r(),l.splice(p,1),s(),u.displayProjects(),o.displayTasks()}else i!=document.querySelectorAll(".sidebar-projects-list-project")[p]&&i!=document.querySelectorAll(".sidebar-projects-list-project-title")[p]&&i!=document.querySelectorAll(".sidebar-projects-dot")[p]||c.textContent!=l[p]&&(m=l[p],n.textContent=`${m}`,d(),o.displayTasks());var m})),i.addEventListener("click",(l=>{let d=l.target,a=l.target.dataset.number;if(a)for(let i=0;i<e.length;i++)for(let n=0;n<document.querySelectorAll(".list-list-task").length;n++)if(d==document.querySelectorAll(".done-dot")[n]&&document.querySelectorAll(".list-list-task-text-title")[n].textContent==e[i].title&&a==e[i].index)1==e[i].done?e[i].done=!1:e[i].done=!0,s(),o.displayTasks();else if(d==document.querySelectorAll(".list-list-task-dots")[n])document.querySelectorAll(".list-list-task-dropdown")[n].classList.add("list-list-task-dropdown-active"),t.classList.add("overlay-active");else if(d==document.querySelectorAll(".list-list-task-dropdown-project")[n])document.querySelectorAll(".list-list-task-dropdown-project")[n].classList.add("list-list-task-dropdown-project-inactive"),document.querySelectorAll(".list-list-task-dropdown-project-input")[n].classList.add("list-list-task-dropdown-project-input-active");else if(d==document.querySelectorAll(".list-list-task-dropdown-project-input-button")[n]){for(let t=0;t<e.length;t++)e[t].title==document.querySelectorAll(".list-list-task-text-title")[n].textContent&&("No Project"==document.querySelectorAll(".list-list-task-dropdown-project-input-input")[n].value?e[t].project=null:e[t].project=document.querySelectorAll(".list-list-task-dropdown-project-input-input")[n].value);s(),o.displayTasks()}else if(d==document.querySelectorAll(".list-list-task-dropdown-date")[n])document.querySelectorAll(".list-list-task-dropdown-date")[n].classList.add("list-list-task-dropdown-date-inactive"),document.querySelectorAll(".list-list-task-dropdown-date-input")[n].classList.add("list-list-task-dropdown-date-input-active");else if(d==document.querySelectorAll(".list-list-task-dropdown-date-input-button")[n]){for(let t=0;t<e.length;t++)e[t].title==document.querySelectorAll(".list-list-task-text-title")[n].textContent&&e[t].index==a&&(e[t].date=document.querySelectorAll(".list-list-task-dropdown-date-input-date")[n].value);s(),o.displayTasks()}else if(d==document.querySelectorAll(".list-list-task-dropdown-delete")[n])if("Today"==c.textContent)for(let t=0;t<e.length;t++)e[t].title==document.querySelectorAll(".list-list-task-text-title")[n].textContent&&e[t].date==document.querySelectorAll(".list-list-task-dropdown-date-input-date")[n].value&&(e.splice(t,1),s(),o.displayTasks());else e.splice(l.target.dataset.number,1),s(),o.displayTasks()}))})(),()=>{const t=document.getElementById("list-add-task-input"),e=document.getElementById("sidebar-projects-add-project-input");t.value="",e.value=""});document.getElementById("list-title").textContent||(r(),u.displayProjects())})();