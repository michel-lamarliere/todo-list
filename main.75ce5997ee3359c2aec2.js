(()=>{"use strict";var t={d:(e,s)=>{for(var l in s)t.o(s,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:s[l]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{a:()=>y});let e=[],s=[];const l=()=>{localStorage.setItem("taskArray",JSON.stringify(e)),localStorage.setItem("projectArray",JSON.stringify(s))},d=()=>{const t=JSON.parse(localStorage.getItem("taskArray")),l=JSON.parse(localStorage.getItem("projectArray"));t!==e&&(e=[],e.push(...t)),l&&(s=[],s.push(...l))},a=document.getElementById("overlay"),o=document.getElementById("list-list"),i=document.getElementById("list-title"),n=(()=>{const t=document.getElementById("list-add"),l=document.getElementById("list-add-task"),d=(t,e,l,d,a)=>{const n=document.createElement("div");n.classList.add("list-list-task"),n.dataset.number=a,o.appendChild(n);const c=document.createElement("div");if(c.classList.add("list-list-task-text"),c.dataset.number=a,n.appendChild(c),null!=l){const t=document.createElement("div");t.textContent=l.toLocaleString(),t.dataset.number=a,t.classList.add("list-list-date"),n.appendChild(t)}const r=document.createElement("div");r.dataset.number=a,r.classList.add("main-dot"),r.classList.add("done-dot"),c.appendChild(r);const u=document.createElement("li");u.dataset.number=a,u.classList.add("list-list-task-text-title"),null!==e&&"Today"==i.textContent||null!==e&&"Overdue"==i.textContent?u.textContent=`${t} (${e})`:u.textContent=t,c.appendChild(u);const p=document.createElement("div");p.dataset.number=a,p.classList.add("list-list-task-dots"),n.appendChild(p);const m=document.createElement("ul");m.dataset.number=a,m.classList.add("list-list-task-dropdown"),n.appendChild(m);const y=document.createElement("li");y.dataset.number=a,y.classList.add("list-list-task-dropdown-project"),y.classList.add("list-list-task-dropdown-bar"),y.textContent="Project",m.appendChild(y);const v=document.createElement("li");v.dataset.number=a,v.classList.add("list-list-task-dropdown-project-input"),m.appendChild(v);const k=document.createElement("select");k.dataset.number=a,k.classList.add("list-list-task-dropdown-project-input-input"),v.appendChild(k);const j=document.createElement("option");k.dataset.number=a,j.textContent="No Project",j.value="No Project",k.appendChild(j);for(let t=0;t<s.length;t++){const l=document.createElement("option");l.dataset.number=a,l.textContent=s[t],l.value=s[t],s[t]==e&&(l.selected=!0),k.appendChild(l)}const L=document.createElement("button");L.dataset.number=a,L.classList.add("list-list-task-dropdown-project-input-button"),L.classList.add("list-list-task-dropdown-bar-button"),L.textContent="OK",v.appendChild(L);const g=document.createElement("li");g.dataset.number=a,g.classList.add("list-list-task-dropdown-date"),g.classList.add("list-list-task-dropdown-bar"),g.textContent="Date",m.appendChild(g);const b=document.createElement("li");b.dataset.number=a,b.classList.add("list-list-task-dropdown-date-input");const x=document.createElement("input");if(x.dataset.number=a,x.type="date",x.value=l,x.classList.add("list-list-task-dropdown-date-input-date"),null!=l){const t=l.slice(0,2),e=l.slice(3,5),s=`${l.slice(6,10)}-${e}-${t}`;x.value=s}b.appendChild(x);const E=document.createElement("button");E.dataset.number=a,E.classList.add("list-list-task-dropdown-date-input-button"),E.classList.add("list-list-task-dropdown-bar-button"),E.textContent="OK",b.appendChild(E),m.appendChild(b);const S=document.createElement("li");S.dataset.number=a,S.classList.add("list-list-task-dropdown-delete"),S.classList.add("list-list-task-dropdown-bar"),S.textContent="Delete",m.appendChild(S);const C=document.createElement("span");C.dataset.number=a,C.classList.add("list-list-lign"),o.appendChild(C)},n=()=>{for(;o.firstChild;)o.removeChild(o.firstChild)};return{addTask:(t,e,s,l,d)=>({title:t,project:e,date:s,done:l,index:d}),displayTasks:()=>{if(n(),"Inbox"===i.textContent)for(let t=0;t<e.length;t++)null===e[t].project&&d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t);else if("Overdue"===i.textContent)for(let t=0;t<e.length;t++)null!==e[t].date&&e[t].date.valueOf()<(new Date).toLocaleString().slice(0,10)&&(console.log((new Date).toLocaleString().slice(0,10)),console.log(e[t].date.valueOf()),d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t));else if("Today"===i.textContent)for(let t=0;t<e.length;t++)e[t].date==(new Date).toLocaleString().slice(0,10)&&d(e[t].title,e[t].project,e[t].date.toLocaleString(),e[t].done,e[t].index=t);else if("Upcoming"===i.textContent)for(let t=0;t<e.length;t++)e[t].date>(new Date).toLocaleString().slice(0,10)&&d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t);else for(let t=0;t<e.length;t++)e[t].project==i.textContent&&d(e[t].title,e[t].project,e[t].date,e[t].done,e[t].index=t);for(let t=0;t<e.length;t++)for(let s=0;s<document.querySelectorAll(".list-list-task-text-title").length;s++)e[t].title==document.querySelectorAll(".list-list-task-text-title")[s].textContent&&document.querySelectorAll(".list-list-task-text-title")[s].dataset.number==e[t].index&&1==e[t].done&&document.querySelectorAll(".list-list-task-text-title")[s].classList.add("list-list-task-text-title-done"),e[t].title==document.querySelectorAll(".list-list-task-text-title")[s].textContent&&document.querySelectorAll(".list-list-task-text-title")[s].dataset.number==e[t].index&&(null!==e[t].date&&(new Date).toLocaleString().slice(0,10)>e[t].date.valueOf()&&(new Date).toLocaleString().slice(3,5)>=e[t].date.valueOf().slice(3,5)&&(new Date).toLocaleString().slice(6,10)>=e[t].date.valueOf().slice(6,10)||(new Date).toLocaleString().slice(6,10)>e[t].date.valueOf().slice(6,10))&&(document.querySelectorAll(".list-list-task-text-title")[s].classList.add("list-list-task-text-title-overdue"),document.querySelectorAll(".list-list-date")[s].classList.add("list-list-date-overdue")),e[t].title==document.querySelectorAll(".list-list-task-text-title")[s].textContent&&document.querySelectorAll(".list-list-task-text-title")[s].dataset.number==e[t].index&&1==e[t].done&&null!==e[t].date&&(new Date).toLocaleString().slice(0,10)>e[t].date.valueOf()&&(new Date).toLocaleString().slice(3,5)>=e[t].date.valueOf().slice(3,5)&&(new Date).toLocaleString().slice(6,10)>=e[t].date.valueOf().slice(6,10)&&(document.querySelectorAll(".list-list-task-text-title")[s].classList.add("list-list-task-text-title-done-overdue"),document.querySelectorAll(".list-list-date")[s].classList.add("list-list-date-done-overdue"))},clearTasks:n,resetTask:()=>{const e=document.querySelectorAll(".list-list-task-dropdown"),s=document.querySelectorAll(".list-list-task-dropdown-date"),d=document.querySelectorAll(".list-list-task-dropdown-date-input"),o=document.querySelectorAll(".list-list-task-dropdown-project"),i=document.querySelectorAll(".list-list-task-dropdown-project-input");a.classList.remove("overlay-active"),t.classList.remove("list-add-inactive"),l.classList.remove("list-add-task-active");for(let t=0;t<e.length;t++)s[t].classList.remove("list-list-task-dropdown-date-inactive"),d[t].classList.remove("list-list-task-dropdown-date-input-active"),e[t].classList.remove("list-list-task-dropdown-active"),o[t].classList.remove("list-list-task-dropdown-project-inactive"),i[t].classList.remove("list-list-task-dropdown-project-input-active")},displayInputOrNot:()=>{"Overdue"===i.textContent||"Upcoming"===i.textContent?t.classList.add("list-add-inactive"):t.classList.remove("list-add-inactive")}}})(),c=document.getElementById("list-title"),r=()=>{c.textContent="Inbox",d(),n.displayTasks(),n.displayInputOrNot()},u=t=>{c.textContent=`${t}`,d(),n.displayTasks(),n.displayInputOrNot()},p=document.getElementById("overlay"),m=(()=>{const t=document.getElementById("sidebar-projects-add"),e=document.getElementById("sidebar-projects-add-project"),l=document.getElementById("sidebar-projects-list"),d=document.getElementById("sidebar-projects-title"),a=()=>{d.textContent=`Projects: ${s.length}`},o=()=>{for(;l.firstChild;)l.removeChild(l.firstChild)},i=()=>{const t=document.querySelectorAll(".sidebar-projects-list-project"),e=document.querySelectorAll(".sidebar-projects-dot"),s=document.querySelectorAll(".sidebar-projects-list-project-title"),l=document.querySelectorAll(".sidebar-projects-list-project-delete");for(let d=0;d<t.length;d++)t[d].dataset.number=d,e[d].dataset.number=d,s[d].dataset.number=d,l[d].dataset.number=d};return{displayProjects:()=>{o();for(let d=0;d<s.length;d++){const a=document.createElement("div");a.classList.add("sidebar-projects-list-project"),l.appendChild(a);const o=document.createElement("div");o.classList.add("main-dot"),o.classList.add("sidebar-projects-dot"),a.appendChild(o);const i=document.createElement("div");i.classList.add("sidebar-projects-list-project-title"),i.textContent=s[d],a.appendChild(i);const n=document.createElement("div");n.classList.add("sidebar-projects-list-project-delete"),a.appendChild(n),t.classList.remove("sidebar-projects-add-inactive"),e.classList.remove("sidebar-projects-add-project-active")}a(),i()},clearProjects:o,resetProject:()=>{const s=document.querySelectorAll(".sidebar-projects-list-project-dropdown");t.classList.remove("sidebar-projects-add-inactive"),e.classList.remove("sidebar-projects-add-project-active");for(let t=0;t<s.length;t++)s[t].classList.remove("sidebar-projects-list-project-dropdown-active"),p.classList.remove("overlay-active")},setAttributeProjects:i,updateProjectNumber:a}})(),y=((()=>{const t=document.getElementById("overlay"),a=document.getElementById("navbar-hamburger"),o=document.getElementById("sidebar-projects-list"),i=document.getElementById("sidebar"),p=document.getElementById("sidebar-projects-add"),v=document.getElementById("list-projects-add-project-add"),k=document.getElementById("list-projects-add-project-cancel"),j=document.getElementById("sidebar-projects-add-project"),L=document.getElementById("sidebar-projects-add-project-input"),g=document.getElementById("inbox"),b=document.getElementById("today"),x=document.getElementById("overdue"),E=document.getElementById("upcoming"),S=document.getElementById("list-list"),C=document.getElementById("list-title"),w=document.getElementById("list-add"),A=document.getElementById("list-add-task"),f=document.getElementById("list-add-task-input"),h=document.getElementById("list-add-task-input-add"),q=document.getElementById("list-add-task-input-cancel");t.addEventListener("click",(()=>{m.resetProject(),n.resetTask(),y()})),a.addEventListener("click",(()=>{i.classList.toggle("sidebar-closed")})),document.addEventListener("keydown",(e=>{"Enter"==e.key&&document.getElementById("list-add-task").classList.contains("list-add-task-active")?(document.getElementById("list-add-task-input-add").click(),t.classList.remove("overlay-active"),n.resetTask()):"Enter"==e.key&&document.getElementById("sidebar-projects-add-project").classList.contains("sidebar-projects-add-project-active")&&(document.getElementById("list-projects-add-project-add").click(),t.classList.remove("overlay-active"),n.resetTask())})),g.addEventListener("click",(()=>{"Inbox"!==C.textContent&&r()})),b.addEventListener("click",(()=>{"Today"!==C.textContent&&(c.textContent="Today",d(),n.displayTasks(),n.displayInputOrNot())})),x.addEventListener("click",(()=>{"Overdue"!==C.textContent&&(c.textContent="Overdue",d(),n.displayTasks(),n.displayInputOrNot())})),E.addEventListener("click",(()=>{"Upcoming"!==C.textContent&&(c.textContent="Upcoming",d(),n.displayTasks(),n.displayInputOrNot())})),p.addEventListener("click",(()=>{t.classList.add("overlay-active"),p.classList.add("sidebar-projects-add-inactive"),j.classList.add("sidebar-projects-add-project-active"),L.focus()})),k.addEventListener("click",(()=>{p.classList.remove("sidebar-projects-add-inactive"),j.classList.remove("sidebar-projects-add-project-active")})),v.addEventListener("click",(()=>{""!==L.value?(s.push(L.value),m.clearProjects(),l(),d(),m.displayProjects(),n.displayTasks(),u(L.value),y()):L.placeholder="Please enter something"})),o.addEventListener("click",(d=>{const a=d.target,o=d.target.dataset.number;if(a==document.querySelectorAll(".sidebar-projects-list-project-dots")[o])document.querySelectorAll(".sidebar-projects-list-project-dropdown")[o].classList.add("sidebar-projects-list-project-dropdown-active"),t.classList.add("overlay-active");else if(a==document.querySelectorAll(".sidebar-projects-list-project-delete")[o]){for(let t=0;t<e.length;t++)e[t].project==document.querySelectorAll(".sidebar-projects-list-project-title")[o].textContent&&e.splice(t,1);document.querySelectorAll(".sidebar-projects-list-project-title")[o].textContent==C.textContent&&r(),s.splice(o,1),l(),m.displayProjects(),n.displayTasks()}else a!=document.querySelectorAll(".sidebar-projects-list-project")[o]&&a!=document.querySelectorAll(".sidebar-projects-list-project-title")[o]&&a!=document.querySelectorAll(".sidebar-projects-dot")[o]||C.textContent!==s[o]&&u(s[o])})),w.addEventListener("click",(()=>{w.classList.toggle("list-add-inactive"),A.classList.toggle("list-add-task-active"),t.classList.add("overlay-active"),f.focus()})),q.addEventListener("click",(()=>{w.classList.toggle("list-add-inactive"),A.classList.toggle("list-add-task-active"),t.classList.remove("overlay-active")})),h.addEventListener("click",(()=>{if(""!==f.value){const t=f.value;let s,d=0;if("Today"==C.textContent){const e=(new Date).toLocaleString().slice(0,10);s=n.addTask(t,null,e,!1,d+=1)}else s="Today"!==C.textContent&&"Inbox"!==C.textContent?n.addTask(t,C.textContent,null,!1,d+=1):n.addTask(t,null,null,!1,d+=1);e.push(s),l(),n.clearTasks(),y(),n.displayTasks()}else f.placeholder="Please enter something"})),S.addEventListener("click",(s=>{const d=s.target,a=s.target.dataset.number;if(a)for(let o=0;o<e.length;o++)for(let i=0;i<document.querySelectorAll(".list-list-task").length;i++)if(d==document.querySelectorAll(".done-dot")[i]&&document.querySelectorAll(".list-list-task-text-title")[i].textContent==e[o].title&&a==e[o].index)1==e[o].done?e[o].done=!1:e[o].done=!0,l(),n.displayTasks();else if(d==document.querySelectorAll(".list-list-date")[i]&&document.querySelectorAll(".list-list-task-text-title")[i].textContent==e[o].title&&a==e[o].index)t.classList.add("overlay-active"),document.querySelectorAll(".list-list-task-dropdown")[i].classList.add("list-list-task-dropdown-active"),document.querySelectorAll(".list-list-task-dropdown-date")[i].classList.add("list-list-task-dropdown-date-inactive"),document.querySelectorAll(".list-list-task-dropdown-date-input")[i].classList.add("list-list-task-dropdown-date-input-active");else if(d==document.querySelectorAll(".list-list-task-dots")[i])document.querySelectorAll(".list-list-task-dropdown")[i].classList.add("list-list-task-dropdown-active"),t.classList.add("overlay-active");else if(d==document.querySelectorAll(".list-list-task-dropdown-project")[i])document.querySelectorAll(".list-list-task-dropdown-project")[i].classList.add("list-list-task-dropdown-project-inactive"),document.querySelectorAll(".list-list-task-dropdown-project-input")[i].classList.add("list-list-task-dropdown-project-input-active");else if(d==document.querySelectorAll(".list-list-task-dropdown-project-input-button")[i]){for(let t=0;t<e.length;t++)e[t].title==document.querySelectorAll(".list-list-task-text-title")[i].textContent&&("No Project"==document.querySelectorAll(".list-list-task-dropdown-project-input-input")[i].value?e[t].project=null:e[t].project=document.querySelectorAll(".list-list-task-dropdown-project-input-input")[i].value);l(),n.displayTasks()}else if(d==document.querySelectorAll(".list-list-task-dropdown-date")[i])document.querySelectorAll(".list-list-task-dropdown-date")[i].classList.add("list-list-task-dropdown-date-inactive"),document.querySelectorAll(".list-list-task-dropdown-date-input")[i].classList.add("list-list-task-dropdown-date-input-active");else if(d==document.querySelectorAll(".list-list-task-dropdown-date-input-button")[i]){for(let t=0;t<e.length;t++)if(e[t].title==document.querySelectorAll(".list-list-task-text-title")[i].textContent&&e[t].index==a){const s=document.querySelectorAll(".list-list-task-dropdown-date-input-date")[i].value,l=s.slice(0,4),d=s.slice(5,7),a=`${s.slice(8,10)}/${d}/${l}`;e[t].date=a}l(),n.displayTasks()}else d==document.querySelectorAll(".list-list-task-dropdown-delete")[i]&&("Today"==C.textContent?e[o].title==document.querySelectorAll(".list-list-task-text-title")[i].textContent&&e[o].date==document.querySelectorAll(".list-list-task-dropdown-date-input-date")[i].value&&(e.splice(o,1),l(),n.displayTasks()):(e.splice(s.target.dataset.number,1),l(),n.displayTasks()))}))})(),()=>{const t=document.getElementById("list-add-task-input"),e=document.getElementById("sidebar-projects-add-project-input");t.value="",e.value=""});document.getElementById("list-title").textContent||(r(),m.displayProjects())})();